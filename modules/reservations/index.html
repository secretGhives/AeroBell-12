<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>AEROBELL Flight Board</title>

  <link rel="stylesheet" href="../../assets/css/su.css">
  <link rel="stylesheet" href="../../assets/css/font-awesome.css">
<!--  <link rel="stylesheet" href="../../assets/css/bootstrap.css"> -->

  <!-- Libraries -->
  <script src="../../assets/libs/jquery.js"></script>
  <script src="../../assets/libs/bootstrap.js"></script>
  <script src="../../assets/libs/clock.js"></script>

  <!-- LOADING SCRIPT STARTS -->
  <script>
  $(window).load(function(){
    $("#loading").fadeOut(function(){
      $(this).remove();
      $('body').css('overflow', 'auto');
    });
  });

  var flipInterval; 
  function startFlip() {
    flipInterval = setInterval( rotateTabs, 10000 );
    console.log('started 10 second flip');
  }
  function stopFlip() {
    clearInterval(flipInterval);
    console.log('stopped flipping');
  }


  //Function to switch tabs
  function rotateTabs() {
    //console.log('rotated');
    if ( $('#flights').hasClass("active") ) {
      $('#weather-link').tab('show');
    } else {
      $('#flights-link').tab('show');
    }
  }
  </script>
  <style type = "text/css">
    body{overflow: hidden;}
    #loaderContainer {position: absolute; top:50%; left:50%;}
    #loaderContent {width: 230px; text-align: center; height: 100px; margin: -50px auto 0 auto; margin-left: -115px; }
    #loading {background-color: #fff; overflow:hidden; width:100%; height:100%; position: absolute; top: 0; left: 0; z-index: 9999;}
  </style> 
  <!-- LOADING SCRIPT END -->
</head>

<body>

  <div id="loading"> 
  <script type = "text/javascript"> 
    document.write("<div id='loaderContainer'><p id='loaderContent'>" +
                   "<img id='loadinggraphic' src='../../assets/img/AFS_small.png' />" +
                   "</p></div>");
  </script> 
  </div> 

<ul id="flightTabs" class="nav nav-tabs">
  <li class=""><a id="flights-link" href="#flights" data-toggle="tab"><i class="icon-dashboard"></i></a></li>
  <li class=""><a id="weather-link" href="#weather" data-toggle="tab"><i class="icon-cloud"></i></a></li>
  <li class=""><label class="checkbox"><input type="checkbox" id="rotation-check" value="rotate"> Rotate?</label></li>
</ul>
 
  <div id="myTabContent" class="tab-content">

    <!-- FLIGHT BOARD TAB STARTS HERE -->
    <div class="tab-pane fade active in" id="flights">
      <table id="flight-table" class="full b">
        <thead>
          <tr>
            <th>status</th>
            <th>tail</th>
            <th>depart</th>
            <th>arrive</th>
            <th>pilot</th>
            <th>copilot</th>
            <th>pax</th>
            <th>route</th>
            <th>notes</th>
          </tr>
        </thead>

        <tbody id="flight-table-body">
          <tr class="departed">
            <td class="first"><label class="status">departed</label></td>
            <td><label class="aircraft">TI-QWE</label></td>
            <td><label class="departure-time">06:00</label></td>
            <td><label class="arrival-time">12:00</label></td>
            <td><label class="pilot">ASWAFFORD</label></td>
            <td><label class="copilot">AKUZENKOV</label></td>
            <td><label class="pax">2</label></td>
            <td><label class="remarks">Expected wait 3+ hrs</label></td>
          </tr>
        </tbody>

      </table>
    </div><!-- FLIGHT BOARD TAB ENDS HERE -->


    <!-- WEATHER TAB STARTS HERE -->
    <div class="tab-pane fade" id="weather">
      <div id="weather-images">
        <img src="http://images.intellicast.com/WxImages/CurrentWind/camer.jpg" class="fit" />
        <img src="http://images.intellicast.com/WxImages/Winds/camer_day1.jpg" class="fit" />
        <img src="http://images.intellicast.com/WxImages/CurrentConditions/camer.jpg" class="fit" />
        <img src="http://www.imn.ac.cr/especial/SATVIS.GIF" class="fit" />
        <img src="http://www.imn.ac.cr/especial/SATELITE.GIF" class="fit" />
        <img src="http://images.intellicast.com/WxImages/Satellite/camer.jpg" class="fit" />
        <img src="http://images.intellicast.com/WxImages/SatelliteLoop/hicbsat_None_anim.gif" class="fit" />
        <img src="http://www.imn.ac.cr/especial/QNHPAVAS.png" class="fit" />
        <img src="http://www.imn.ac.cr/especial/PavasRed.png" class="fit" />
      </div>

      <div id="weather-text">
        <div id="weather-pad">
          <div id="clock"></div>
          <div id="localMetar" class="text-data">n/a</div>
          <div id="localTaf" class="text-data">n/a</div>
          <div id="localNotam" class="text-data">n/a</div>
        </div>
      </div>
    </div><!-- WEATHER TAB ENDS HERE -->
  </div>



<!-- Plugins -->



<!-- Application
<script src="../../assets/libs/chosen-min.js"></script>
<script src="app/fazzle.js"></script>
<script src="app/modules/runway.js"></script>
<script src="../../assets/libs/underscore.js"></script>
<script src="../../assets/libs/backbone.js"></script>
-->

<script>
!function ($) {
  $(function(){

    $('#rotation-check').change(function(){
      var k = this.checked ? startFlip() : stopFlip();
    });

    //var flipTimer = setInterval( rotateTabs, 30000);

    //Get METAR
    $("#localMetar").load("../../assets/php/metar.php?icao=MRPV&MROC");
    $("#localTaf").load("../../assets/php/taf.php?icao=MRPV");

    //Get MROC NOTAM
    $.ajax({
    type: "POST",
    url: "../../assets/php/proxyNotam.php?url=https://www.notams.jcs.mil/dinsQueryWeb/queryRetrievalMapAction.do",
    data: {'retrieveLocId': "MROC"},
    success: function(data) {
      $('#localNotam').html(data);
      }
    });


  })
}(window.jQuery)
</script>


<script> 
var flightResuts = document.getElementById('flight-table-body'); 
var id = document.getElementById('flightId');
var flightStatus = document.getElementById('nf-status');  
var flightAircraft = document.getElementById('nf-aircraft');  
var flightDate = document.getElementById('nf-date');  
var flightDeparture = document.getElementById('nf-departure');  
var flightArrival = document.getElementById('nf-arrival');  
var flightPilot = document.getElementById('nf-pilot');  
var flightCopilot = document.getElementById('nf-copilot');  
var flightPassangers = document.getElementById('nf-pax');
var flightRoute = document.getElementById('nf-route');
var flightNotes = document.getElementById('nf-notes');
 
var createStatement = "CREATE TABLE IF NOT EXISTS Flights (id INTEGER PRIMARY KEY AUTOINCREMENT, flightStatus TEXT, flightAircraft TEXT, flightDate TEXT, flightDeparture TEXT, flightArrival TEXT, flightPilot TEXT, flightCopilot TEXT, flightPassangers TEXT, flightRoute TEXT, flightNotes TEXT)";
var selectAllStatement = "SELECT * FROM Flights ORDER BY flightDeparture";

var db = openDatabase("FlightBoard", "1.0", "AeroBell Flight Board", 200000);
var dataset;
createTable();

function onError(tx, error) {
  alert(error.message);
}
      
function showRecords() {
  flightResuts.innerHTML = '';
  db.transaction(function(tx) {
    tx.executeSql(selectAllStatement, [], function(tx, result) {
      dataset = result.rows;
      for (var i = 0, item = null; i < dataset.length; i++) {
        item = dataset.item(i);
        flightResuts.innerHTML += 
            '<tr class="' + item['flightStatus'] + '">' + 
            '<td class="first"><label class="status">' + item['flightStatus'] + '</label></td>' + 
            '<td class=""><label class="aircraft">' + item['flightAircraft'] + '</label></td>' + 
            '<td class=""><label class="aircraft">' + item['flightDeparture'] + '</label></td>' + 
            '<td class=""><label class="aircraft">' + item['flightArrival'] + '</label></td>' + 
            '<td class=""><label class="aircraft">' + item['flightPilot'] + '</label></td>' +
            '<td class=""><label class="aircraft">' + item['flightCopilot'] + '</label></td>' +
            '<td class=""><label class="aircraft">' + item['flightPassangers'] + '</label></td>' +
            '<td class=""><label class="route">' + item['flightRoute'] + '</label></td>' +
            '<td class=""><label class="aircraft">' + item['flightNotes'] + '</label></td>' +
            '</tr>';
      }
    });
  });
}
      
function createTable() { 
  db.transaction(function(tx) {
    tx.executeSql(createStatement, [], showRecords, onError);
  });
}

</script>

</body>
</html>
<!--// &#9734;  ☆ KUZYA.COM
                             -~-%%%-,,
                           ,%       ^2%
                          -ZZ2       22
                          -22%-,    .22
 ~,2~ ,i,       qWE2      %qggp2222gggp2     .2Zg,          .- ,-
 ,,222NEEBBggggg222%      -WWWWWqQWWWFBF     `?ZW\,,,,ggggggp2%==-"
 ,,,ggBBBBBBBBBBBBgggg,   -222%2WB2^27Z^ ,ggggggBNBWBBBWBBBWB2s==~-
   ,ggBBBBBWWBBBWBWWBBBBgg,  %%JE@P  qggBBBBBBWWBWBWBWWWWBWWBE2"""`
   ``qBWWBBBBBWWBWNBWBBWBWBBm%%%%% .dWBWBBBWWWWBNWBBBBWWBWWWWE"""
        `"WWWWBWHWBBBBEBWW"^ ,gggg,`/"WWWBWBWWBBWWNWBWBWWWWWF"^
            ""WBgdWW"""   ggWWWWWBWBgg, `"""""""W3EBWF"\
               ""F ~g  iqdWBBWBBNBWBWWWBr,   F -JWWW
                   -7   "" ^^7@WWWWW/"7"-"\  ^
                              3H@ZES
                               3@EP`
                                22,
                                LL/

    ┌────────────────────────────────────────────────────────┐
    │ Date of Creation ..................Feb...... Year 2012 │
    └────────────────────────────────────────────────────────┘
//-->